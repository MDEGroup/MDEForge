<?xml version="1.0" encoding="UTF-8"?>
<ecore:EPackage xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" name="schema" nsURI="http://www.soluvas.com/schema/story.schema/1.0"
    nsPrefix="story-schema">
  <eClassifiers xsi:type="ecore:EClass" name="StoryType">
    <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
      <details key="documentation" value="name = name of the Story entity Class (including package, if any), relative to the bundle symbolic name."/>
    </eAnnotations>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//ResourceAware"/>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//NameContainer"/>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//JavaClassLinked">
      <eTypeArguments eClassifier="#//Story"/>
    </eGenericSuperTypes>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//EClassLinked"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="StorySchemaCatalog" eSuperTypes="../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//ResourceAware ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//BundleAware ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//NsPrefixable">
    <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
      <details key="documentation" value="The loader will load two files for each catalog:&#xA;&#xA;1. &lt;catalogName>.StorySchemaCatalog.xmi, declaring the action/target/aggregation/story types, but not the structure.&#xA;2. &lt;catalogName>.ecore. This defines the structure of the types.&#xA;&#xA;The loader will resolve eClass names mentioned in the StorySchemaCatalog inside the related ecore file.&#xA;&#xA;nsPrefix = Used to resolve a TargetType subject types inside ActionType."/>
    </eAnnotations>
    <eOperations name="createAction">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Helper method to create an {@link Action}."/>
      </eAnnotations>
      <eGenericType eTypeParameter="#//StorySchemaCatalog/createAction/T"/>
      <eTypeParameters name="T">
        <eBounds eClassifier="#//Action"/>
      </eTypeParameters>
      <eParameters name="targetClass">
        <eGenericType eClassifier="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EJavaClass">
          <eTypeArguments eTypeParameter="#//StorySchemaCatalog/createAction/T"/>
        </eGenericType>
      </eParameters>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="storyTypes" upperBound="-1"
        eType="#//StoryType" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="actionTypes" upperBound="-1"
        eType="#//ActionType" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="aggregationTypes" upperBound="-1"
        eType="#//AggregationType" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="generatedPackageName" lowerBound="1"
        eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EString">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Used to lookup the Java class. e.g. &quot;id.co.bippo.person.story&quot;."/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="xmiUrl" eType="ecore:EDataType ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//URL"
        transient="true">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Only used at runtime by XmiTracker."/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="ecoreUrl" eType="ecore:EDataType ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//URL"
        transient="true">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Only used at runtime by XmiTracker."/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="ePackage" eType="ecore:EClass platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EPackage"
        transient="true">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Only used by XmiTracker."/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="eFactory" eType="ecore:EClass platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EFactory"
        transient="true">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Only used by XmiTracker."/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ActionType">
    <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
      <details key="documentation" value="Before your application can publish actions, you must first define and register Action Types through the Open Graph Tool within the App Dashboard.&#xA;&#xA;    Define Action Types for your app&#xA;    Utilize Built-In Action Types in your app&#xA;    Configure Custom Action Types with default properties&#xA;    Define Custom Properties for Custom Action Types&#xA;    Utilize Custom Action Types with Built-In Object Types in your app&#xA;&#xA;Define Action Types&#xA;&#xA;To define an Action Type, click on the &quot;Create New Action Type&quot; button in the Dashboard view and enter an action which describes a high-level social action users can do in your app.&#xA;&#xA;&#xA;Start typing the action into the action dialog to get started:&#xA;&#xA;Configure Custom Action Types&#xA;&#xA;Once you have defined the name of a custom action type, you are ready to configure its properties:&#xA;Define Action Type&#xA;&#xA;&#xA;    Basic:&#xA;        Name field is pre-filled with the action you defined in the initial step. For example: read, bake, run.&#xA;        Connected Object Types indicates the object types that this action can act upon. If you have previously defined custom object types for this app, you can add these here. You may also add Built-In Object Types to this list.&#xA;    Properties: These are the instance specific properties you can set when you publish an action.&#xA;        Any object types that are connected to this action type will be listed first. These are required when publishing an action.&#xA;        start_time an optional field specifies a start time for a published action. This is used to control the tense of of the action displayed in the News Feed story. string containing ISO-8601 date-time&#xA;        end_time an optional field specifies an end time for a published action. This is used to control the tense of of the action displayed in the News Feed story. string containing ISO-8601 date-time&#xA;        expires_in an optional field specifies when a published action will expire. This is used to control the tense of of the action displayed in the News Feed story.&#xA;        place an optional field specifies a place for a published action. This is used to set additional location information displayed the News Feed story. Location is an important part of a story that helps convey rich information about the action or event taking place. Open Graph stories that include the place field will be considered for additional News Feed and Timeline distribution. See the Location Tagging documentation for more information.&#xA;        tags an optional field specifies one or more Facebook users to tag in a published action. This is used to set additional tagging information displayed in the News Feed story. The information entered should be a comma-separated list of one or more Facebook user ids. Read more information about how to use this field.&#xA;        image an optional field specifies the image for a published action. This is used to control the image that is displayed in News Feed and Timeline stories. If no image is specified the image corresponding to the object is displayed. Images that are 200x200px or higher tend to get more distribution through News Feed and Timeline as the stories generated leverage deeper story formats.&#xA;        ref an optional field specifies a reference for a published action. This parameter will be associated with your published action and can then be used to track analytics in App Insights.&#xA;        message an optional field specifies the message that will be attached to the action when it is displayed in the News Feed story. Read more information about how to use this field.&#xA;        Add Custom Property as needed. This allows you to add additional action type properties, allowing you to specify the property type and property rules.&#xA;&#xA;Configure Story Text&#xA;&#xA;&#xA;    Tenses Supported: Allows you to select the tenses that will be used in News Feed stories. For example, you may wish to always display stories in present tense, in which case you would select the ''only the present tense'' option.&#xA;    Configure Tenses: Configure how the stories will appear in the News Feed. By default, all actions are displayed in the past tense form, unless specified for a period of time in the present tense.&#xA;        Past Tense field is pre-filled with an initial past tense action corresponding to your initial action type. You can edit this field. You can also edit the preposition that defines how the News Feed story is displayed. You can preview the various sentences that may be generated using the Sentence Previews box.&#xA;        Plural Past Tense field is pre-filled with an initial past tense action corresponding to your initial action when more than one friend is involved. Similar to the Past Tense field, you can make changes and preview them using the 'Sentence Previews` box.&#xA;        Present Tense field is pre-filled with an initial present tense action corresponding to your initial action type. You can edit this field. You can also edit the preposition that defines how the News Feed story is displayed. You can preview the various sentences that may be generated using the Sentence Previews box.&#xA;        Plural Present Tense field is pre-filled with an initial present tense action corresponding to your initial action when more than one friend is involved. Similar to the Past Tense field, you can make changes and preview them using the Sentence Previews box.&#xA;        Imperative Tense field is pre-filled with an initial present tense action corresponding to your initial action type. This field controls the display for action links. You can edit this field. You can preview the various sentences that may be generated using the Sentence Previews box.&#xA;    Sentence Previews: The preview box displays the various stories that can be generated for the different tenses. This enables you to see how your stories will appear in News Feed, notifications, Timeline headers, etc. Use this to help you define your tenses. You may have to save the action type at least once for the sentence previews to display.&#xA;        Singular Present displays the various stories for an individual actor and a present tense action.&#xA;        Plural Present displays the various stories for an multiple actors and a present tense action.&#xA;        Singular Past displays the various stories for an individual actor and a past tense action.&#xA;        Singular Past displays the various stories for an multiple actors and a past tense action.&#xA;        Imperative displays the various stories for an action link.&#xA;&#xA;Configure Story Attachment&#xA;&#xA;&#xA;    Attachment Layout: Configure the way the action attachment renders in the News Feed, Ticker (when a user clicks on the one line story), and in Timeline.&#xA;        Item select this option for caption next to an image&#xA;        Numberselect this option for displaying a number with caption underneath&#xA;        Map select this option for map view of your action&#xA;    Caption: Create a caption for your story with a combination of text, action and object property values and a simple text template syntax for formatting these property values. See Using Text Templates for details.&#xA;    Note: Do not repeat text of the form [user] [action] [object] in the captions, as this will be automatically generated and added to each published Open Graph story.&#xA;    Advanced:&#xA;        Graph API URL field allows you to set the endpoint URL you will use to call your action. You can only change the action part of this URL. The action is pre-filled with the one you set initially.&#xA;        Unique Action field allows you to select whether you will support unique actions or not. By default you will support multiple actions. Only select this option if there can only be one instance of the action -> object pair. For example, a valid use case of this is if a user can only vote once for an entry.&#xA;        Requires App Access Token to Publish field specifies if the app secret is required to publish activity. For example, some games want enforce that actions like score or achieve can only be written from the app's servers and can't be written by trapping a normal access token and writing to the graph. To do this, do Graph writes using /{user-id}/{action}?access_token={token} where token is an app access token and the user id is a #. By default an app access_token is not required.&#xA;        Geographic Restrictions field allows you to list countries where you either want to show or hide published actions.&#xA;        Linked Action field allows you to tie an existing action type to this action type as part of configuring action links.&#xA;        Action Link Preview box allows you to view how an action link will be displayed in News Feed or Timeline. This preview is only visible when a Linked Action has been specified.&#xA;        Action Link URL field specifies the end point that Facebook will call when a user clicks on an action link. This must be a secure link.&#xA;&#xA;Preview&#xA;&#xA;&#xA;This preview box allows you to see how your action instance story will appear in the News Feed and Timeline.&#xA;&#xA;Define Custom Properties&#xA;&#xA;Custom properties are additional attributes used to describe a custom action instance. Actions, by default, are only visible to a user's friends. Apps can specify a broader (everyone) or narrower (user only) visibility setting for actions generated by the app. Additionally, a user can also edit the action visibility settings on her Timeline. More details on app permissions and settings here.&#xA;&#xA;Custom properties of a custom action are used to store personal and instance-specific data. Examples of custom action instance properties include: Duration for a run action, Score for a game-play action, or Rating for a review action.&#xA;&#xA;A custom property can also be defined to refer to other objects. For example, when a user reviewed a dish, &quot;review&quot; is the action and &quot;dish&quot; is the object. A &quot;restaurant&quot; object can be a custom property associated with the &quot;review&quot; action.&#xA;&#xA;If an image was specified when publishing an action, News Feed will prioritize the action image over the object image.&#xA;Next Steps&#xA;&#xA;    Define Objects&#xA;    Define Timeline Aggregations&#xA;    Publish Actions&#xA;    Configure Action Links&#xA;&#xA;Reference: https://developers.facebook.com/docs/technical-guides/opengraph/defining-an-action-type/#define"/>
    </eAnnotations>
    <eOperations name="create" eType="#//Action">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Create Action with proper nsPrefix and actionType attributes."/>
      </eAnnotations>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="resolvedSubjectTypes" upperBound="-1"
        eType="ecore:EClass ../../../../../../../org.soluvas.social/src/main/resources/org/soluvas/social/schema.ecore#//TargetType">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Connected Object Types indicates the object types that this action can act upon. If you have previously defined custom object types for this app, you can add these here. You may also add Built-In Object Types to this list."/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="status" eType="#//ActionTypeStatus"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="subjectTypes" upperBound="-1"
        eType="#//TargetTypeRef" containment="true">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Connected Object Types indicates the object types that this action can act upon. If you have previously defined custom object types for this app, you can add these here. You may also add Built-In Object Types to this list."/>
      </eAnnotations>
    </eStructuralFeatures>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//NameContainer"/>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//BundleAware"/>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//ResourceAware"/>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//JavaClassLinked">
      <eTypeArguments eClassifier="#//Action"/>
    </eGenericSuperTypes>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//EClassLinked"/>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//EFactoryLinked"/>
    <eGenericSuperTypes eClassifier="#//ActionLike"/>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//NsPrefixable"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EDataType" name="Story" instanceClassName="com.soluvas.story.Story"/>
  <eClassifiers xsi:type="ecore:EDataType" name="Action" instanceClassName="com.soluvas.story.Action"/>
  <eClassifiers xsi:type="ecore:EClass" name="AggregationType">
    <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
      <details key="documentation" value="Timeline Aggregations are aggregated stories that are defined by an application to showcase actions and objects on a user's Timeline in a structured and interesting way.&#xA;&#xA;When a user installs an application that publishes back to Open Graph, an Aggregation defined by the application will appear on the user's Timeline based on two key factors:&#xA;&#xA;    Data availability - Sufficient actions and objects were published to generate an Aggregation in a given time period.&#xA;    Feedback - Calculated based on how engaged users are with the Aggregation on their Timelines, covering both positive actions (liking, commenting, pinning) and negative ones (removing/hiding the aggregation, removing the application that generated the aggregation).&#xA;&#xA;When an application defines multiple aggregations, these may appear on Timeline as Reports. Reports are collections of aggregations and are shown for each time period in which a user has published activity back to the Open Graph. This provides a consistent viewing experience and makes it easier for a user to digest data from an application. When configuring multiple aggregations for an application through the Facebook App Dashboard, ensure that these aggregations are ordered by priority - with the most important aggregation first. When a report is generated for your app, the primary aggregation is in the top position, and the other aggregations (if sufficient data is available to generate these aggregations) are displayed in their respective order in the report.&#xA;&#xA;Here is an example of a Report for a recipe app with 2 aggregated stories with 'Recipes I've Made' as the primary story.&#xA;&#xA;Overview&#xA;&#xA;Within the App Dashboard under Open Graph > Dashboard tab, click on &quot;Create New Aggregation&quot; to get started.&#xA;&#xA;An Aggregation can be configured by the following fields:&#xA;&#xA;    Data to Display - Specify whether an Aggregation should surface a user's actions or objects.&#xA;    Layout Style - The style of the Aggregation display.&#xA;    Sort By - Chooses how the ''Data to Display'' will be ordered in the Aggregation. The current choices are ''Most Recent'', ''Favorite'', and a ''Custom'' selection.&#xA;    Aggregation Title - Sets the user-facing title of an Aggregation. Preview any changes through the Timeline Preview box.&#xA;    Caption Lines - Sets the caption shown in an Aggregation. A combination of text and syntax from the in-built Text Template language can be used to create the caption.&#xA;    Advanced - Provides additional optional aggregation parameters: Group By (not available for Aggregations showing actions) and Filters.&#xA;&#xA;Data to Display&#xA;&#xA;An Aggregation can display any action type or object type that your application has configured.&#xA;&#xA;Object Type&#xA;To configure an Aggregation to show &quot;Most [Action Type] [Object Types]&quot;, such as: &quot;Most Ran Routes&quot;, or &quot;Restaurants Visited Most&quot;, choose the object type (e.g. Route) as the ''Data to Display''. Then, select a connected action type (e.g. Run) as the ''Action Type''.&#xA;&#xA;Such an aggregation in effect does a group by on the Route object and accesses its in-built {count} property, which is the number of times a user has taken the connected action on the object, in this case, the number of times the user has ran on the route.&#xA;&#xA;Action Type&#xA;To configure an Aggregation to show &quot;Most Recent [Action Type]&quot;, such as: &quot;Most Recent Runs&quot; or &quot;Most Recent Books Read&quot;, choose the action type (e.g. Read) as the ''Data to Display''. This aggregation will be able to access individual instances of the chosen action, such as all &quot;Read&quot; actions of the current user published by the app back to Open Graph. The {count} for action-based aggregations will always be 1.&#xA;&#xA;Examples&#xA;Consider a Cookbook app that has the Actions: &quot;Cook&quot;, &quot;Plan to Make&quot; and the Objects: &quot;Recipe&quot;, &quot;Meal&quot;&#xA;&#xA;    Configure an aggregation grouped by the &quot;Recipe&quot; object, this gives access to the number of times a connected action occurred for the object. For example, to create a Most Cooked Recipes aggregation, select the &quot;Recipe&quot; object as the ''Data to Display'' and &quot;Cook&quot; as the connected ''Action Type''.&#xA;    Configure an aggregation with an action as the ''Data to Display''. For example, setting the &quot;Plan to Make&quot; action as the ''Data to Display'' helps create the Latest Planning to Make aggregation that shows the most recent recipes that the user has taken the &quot;Plan to Make&quot; action on. The configured aggregation could also focus on particular properties of an action. For example, if the &quot;Cook&quot; action had a custom property called &quot;Duration&quot; that tracks how long it takes to cook each time, and if a Longest Cooking aggregation was created, then the &quot;Cook&quot; action is the ''Data to Display'', with a custom ''Sort By'' on the action property called &quot;Duration&quot;. The aggregation will have access to action instance-specific information and properties, which would not be available had the &quot;Recipe&quot; object been the ''Data to Display''.&#xA;&#xA;Layout Style&#xA;&#xA;Layout styles define how your aggregation looks on the user’s Timeline.&#xA;&#xA;The following layout templates, including suggested use-cases, are available for you to choose from:&#xA;&#xA;    List: Help highlight a user's recent activity or favorite objects. Lists also have an associated histogram, shaded grey, that will automatically appear for each row displayed in the list.&#xA;    Gallery: Help when Object images are meaningful. Example, the cover art for my favorite albums or the course photos from my runs.&#xA;    Table: Help highlight a mixture of interesting statistical and qualitative attributes of a user's actions or objects.&#xA;    Item: Help highlight a single, interesting action or object with a compelling visual representation. Image size will be 90x90px in Timeline, and 379x284px on App Tabs (if a larger image is provided). To get larger images, you should specify multiply images with your objects and include the height and width attributes. Images with larger sizes will be chosen for the larger format.&#xA;    Number: Help highlight a single, meaningful number from a macro view. For example, a user's total miles ran in a time period or the number of restaurant reviews a user has posted.&#xA;    Map: Help highlight geolocation attributes of a user's actions and objects. For example, use the Map layout to plot the geo-coordinates of a user's &quot;longest run&quot; or &quot;path travelled&quot; from a lifestyle app.&#xA;&#xA;Map Layout Style&#xA;&#xA;To take advantage of the Map layout, your objects need to have at least one GeoPoint property. GeoPoint is a complex type that can be described with latitude, longitude, and altitude; altitude being optional here.&#xA;&#xA;There are two styles of maps to choose from, and each have their own set of parameters:&#xA;&#xA;Single Action: this style renders one action or object only (using the highest or lowest rank depending on the configured sort order), but can highlight multiple pins on the map and trace a route between several points. One example would be to display a travel action with multiple stops, or a run action that follows multiple paths.&#xA;&#xA;The parameters the Single Action map takes are:&#xA;&#xA;    Numbers: Specify number values that will be highlighted in the header of this aggregation.&#xA;    Highlighted Points: Specify object or action properties of type GeoPoint that will be rendered as pins on the map. You can specify multiple properties.&#xA;    Route: Specify an array property of type GeoPoint. These points will be rendered on the map as a route.&#xA;&#xA;Multiple Actions: this style renders multiple objects or actions, except that each item is rendered as a point of the map instead of a caption text with a picture within a gallery layout.&#xA;&#xA;This map style accepts one parameter only:&#xA;&#xA;    Contributing points: Specify an object or action property of type GeoPoint. Only one property is accepted here.&#xA;&#xA;Sort By&#xA;&#xA;Configures the ordering and display for the Aggregation. You have the ability to choose from the following:&#xA;&#xA;    Most Recent: Displays actions ordered by the action's start_time property&#xA;    Favorite: Displays objects ordered by the number of times a user has taken a specific action against an object. For example, a &quot;favorite songs&quot; Aggregation shows song objects that I'm connected to via listen actions ordered by the number of listen actions per song.&#xA;    Custom: Sort by properties on an action or object, such as the end time of an action, the number of counts or the highest or lowest numerical value of a property. Examples: Distance or Pace of a run action, the Rating of a movie object.&#xA;&#xA;Aggregation Title&#xA;&#xA;Users will see the title for every aggregation on their Timeline. Avoid using a title that could confuse the another viewer of a user's Timeline about the ownership of the actions and objects in the aggregation such as &quot;My Most Visited Places&quot; or &quot;Routes I Ran&quot;. Instead, use identity-agnostic titles such as &quot;Most Visited Places&quot; or titles which explicitly articulate ownership such as &quot;Routes Diana Ran&quot;.&#xA;&#xA;The title should also honestly reflect the content being displayed. For example, if an application defines a &quot;Favorite Runs&quot; aggregation, the application should provide runs that were explicitly made &quot;favorites&quot; by the user, versus the most popular runs, which should be titled as &quot;Most Popular Runs&quot;.&#xA;&#xA;Caption Lines&#xA;&#xA;Aggregations support a simple text template syntax for formatting Open Graph action / object properties into strings that a user sees. This template syntax supports formatters for different data types such as dates, times, currencies, etc., pluralization of display text and operators for simple mathematical computations. Text templates are specified between the “{...}” characters.&#xA;&#xA;Example:&#xA;A Run action connects to a Course object via a “course” custom property. To show the run’s distance and pace, use:&#xA;Ran {course.distance} miles in {time | duration}&#xA;which would be formatted into: “Ran 7.48 miles in 42:37”.&#xA;&#xA;See Using Text Templates to take full advantage of its capabilities.&#xA;&#xA;Advanced&#xA;&#xA;Filters - Option allows the aggregation to only display if this is true. For example, you can filter by the type of movie (type is a custom property on movie object).&#xA;&#xA;Group by - Option is only available if your Aggregation is displaying Objects. This option allows the aggregation to group by a property of the object. For example, you can group by Movie object's type, to show how many times you've watched a certain type of movie.&#xA;&#xA;Effects when Updating the Definition of Existing Aggregations&#xA;&#xA;When making changes to the definition of of an existing aggregation definition, you should be aware that some types of changes may wipe out (destructive) aggregation and stories for previously published actions.&#xA;&#xA;Destructive changes (ie: previously published actions will not appear):&#xA;&#xA;    Changing the &quot;group by&quot; property&#xA;    Changing the &quot;action type&quot; property (if grouping by an object)&#xA;    Changing the &quot;sort-by&quot; property&#xA;    Adding a new, previously unused selector to a caption to use / display a property from an action or object&#xA;    Adding a function (sum, max, avg) on an existing selector. Note: we are planning to fix this behavior soon.&#xA;    Adding a filter that uses a function (sum, max, avg).&#xA;&#xA;Non-destructive changes (ie: previously published actions continue to appear):&#xA;&#xA;    Changing the title&#xA;    Changing the layout&#xA;    Changing a caption without adding a new selector or function. i.e. it's okay to rearrange text and selectors, just not to add ones that read new properties from an action / object&#xA;    Using a formatter on an existing selector i.e. formatting a date or a number&#xA;    Starting or stopping use of {count}in a filter, selector, etc [fixed week of 12/12]&#xA;    Using an existing selector as a filter&#xA;&#xA;Reference: https://developers.facebook.com/docs/technical-guides/opengraph/defining-an-aggregation/"/>
    </eAnnotations>
    <eOperations name="create" eType="#//Aggregation">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Create Target with proper nsPrefix and aggregationType attributes."/>
      </eAnnotations>
    </eOperations>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//ResourceAware"/>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//NameContainer"/>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//BundleAware"/>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//JavaClassLinked">
      <eTypeArguments eClassifier="#//Aggregation"/>
    </eGenericSuperTypes>
    <eGenericSuperTypes eClassifier="ecore:EClass ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//EClassLinked"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EDataType" name="Aggregation" instanceClassName="com.soluvas.story.Aggregation"/>
  <eClassifiers xsi:type="ecore:EEnum" name="Tenses">
    <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
      <details key="documentation" value="Allows you to select the tenses that will be used in News Feed stories. For example, you may wish to always display stories in present tense, in which case you would select the ''only the present tense'' option.&#xA;&#xA;&lt;p>Reference: http://developers.facebook.com/docs/technical-guides/opengraph/defining-an-action-type/"/>
    </eAnnotations>
    <eLiterals name="both"/>
    <eLiterals name="present" value="1"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ActionLike" abstract="true" interface="true">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="tenses" lowerBound="1"
        eType="#//Tenses">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Allows you to select the tenses that will be used in News Feed stories. For example, you may wish to always display stories in present tense, in which case you would select the ''only the present tense'' option.&#xA;&#xA;&lt;p>Reference: http://developers.facebook.com/docs/technical-guides/opengraph/defining-an-action-type/"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="pastTense" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EString">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Past Tense field is pre-filled with an initial past tense action corresponding to your initial action type. You can edit this field. You can also edit the preposition that defines how the News Feed story is displayed. You can preview the various sentences that may be generated using the Sentence Previews box.&#xA;&#xA;e.g. cooked"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="pluralPastTense" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EString">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Plural Past Tense field is pre-filled with an initial past tense action corresponding to your initial action when more than one friend is involved. Similar to the Past Tense field, you can make changes and preview them using the 'Sentence Previews` box.&#xA;&#xA;e.g. cooked"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="presentTense" lowerBound="1"
        eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EString">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Present Tense field is pre-filled with an initial present tense action corresponding to your initial action type. You can edit this field. You can also edit the preposition that defines how the News Feed story is displayed. You can preview the various sentences that may be generated using the Sentence Previews box.&#xA;&#xA;e.g. cook"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="pluralPresentTense" lowerBound="1"
        eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EString">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Plural Present Tense field is pre-filled with an initial present tense action corresponding to your initial action when more than one friend is involved. Similar to the Past Tense field, you can make changes and preview them using the Sentence Previews box.&#xA;&#xA;e.g. are cooking"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="imperativeTense" lowerBound="1"
        eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EString">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Imperative Tense field is pre-filled with an initial present tense action corresponding to your initial action type. This field controls the display for action links. You can edit this field. You can preview the various sentences that may be generated using the Sentence Previews box.&#xA;&#xA;e.g. cook"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EEnum" name="ActionTypeStatus">
    <eLiterals name="unresolved"/>
    <eLiterals name="resolved" value="1"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="TargetTypeRef" eSuperTypes="../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//NsPrefixable ../../../../../../../org.soluvas.commons/src/main/resources/org/soluvas/commons/commons.ecore#//NameContainer"/>
</ecore:EPackage>
