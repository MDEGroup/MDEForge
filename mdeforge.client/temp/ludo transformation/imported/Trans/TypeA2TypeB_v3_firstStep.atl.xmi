<?xml version="1.0" encoding="ASCII"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:atl="http://www.eclipse.org/gmt/2005/ATL" xmlns:ocl="http://www.eclipse.org/gmt/2005/OCL">
  <atl:Module location="4:1-29:2" name="TypeA2TypeB">
    <commentsBefore>-- @path TypeA=/SideEffect/Metamodels/TypeA.ecore</commentsBefore>
    <commentsBefore>-- @path TypeB=/SideEffect/Metamodels/TypeB.ecore</commentsBefore>
    <inModels location="5:23-5:32" name="a" metamodel="/2"/>
    <outModels location="5:8-5:17" name="b" metamodel="/1"/>
    <elements xsi:type="atl:MatchedRule" location="7:1-20:2" name="RootA2RootB">
      <outPattern location="10:2-19:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="11:3-19:4" varName="rtB">
          <type xsi:type="ocl:OclModelElement" location="11:9-11:20" name="RootB" model="/4"/>
          <bindings location="12:4-18:45" propertyName="defs">
            <value xsi:type="ocl:IteratorExp" location="12:12-18:45" name="collect">
              <source xsi:type="ocl:IterateExp" location="12:12-18:6">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="12:12-12:20" name="elms">
                  <source xsi:type="ocl:VariableExp" location="12:12-12:15" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
                </source>
                <body xsi:type="ocl:IfExp" location="13:5-17:10">
                  <thenExpression xsi:type="ocl:VariableExp" location="14:6-14:9" referredVariable="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source/@result"/>
                  <condition xsi:type="ocl:CollectionOperationCallExp" location="13:9-13:51" operationName="includes">
                    <source xsi:type="ocl:IteratorExp" location="13:9-13:33" name="collect">
                      <source xsi:type="ocl:VariableExp" location="13:9-13:12" referredVariable="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source/@result"/>
                      <body xsi:type="ocl:NavigationOrAttributeCallExp" location="13:26-13:32" name="name">
                        <source xsi:type="ocl:VariableExp" location="13:26-13:27" referredVariable="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source/@body/@condition/@source/@iterators.0"/>
                      </body>
                      <iterators location="13:22-13:23" varName="f" variableExp="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source/@body/@condition/@source/@body/@source"/>
                    </source>
                    <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="13:44-13:50" name="name">
                      <source xsi:type="ocl:VariableExp" location="13:44-13:45" referredVariable="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source/@iterators.0"/>
                    </arguments>
                  </condition>
                  <elseExpression xsi:type="ocl:CollectionOperationCallExp" location="16:6-16:23" operationName="including">
                    <source xsi:type="ocl:VariableExp" location="16:6-16:9" referredVariable="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source/@result"/>
                    <arguments xsi:type="ocl:VariableExp" location="16:21-16:22" referredVariable="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source/@iterators.0"/>
                  </elseExpression>
                </body>
                <iterators location="12:30-12:31" varName="e" variableExp="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source/@body/@condition/@arguments.0/@source /0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source/@body/@elseExpression/@arguments.0"/>
                <result location="12:33-12:67" varName="res" variableExp="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source/@body/@condition/@source/@source /0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source/@body/@thenExpression /0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source/@body/@elseExpression/@source">
                  <type xsi:type="ocl:SetType" location="12:39-12:58">
                    <elementType xsi:type="ocl:OclModelElement" location="12:43-12:57" name="ElementA" model="/5"/>
                  </type>
                  <initExpression xsi:type="ocl:SetExp" location="12:61-12:67"/>
                </result>
              </source>
              <body xsi:type="ocl:OperationCallExp" location="18:20-18:44" operationName="Definition">
                <source xsi:type="ocl:VariableExp" location="18:20-18:30" referredVariable="/6"/>
                <arguments xsi:type="ocl:VariableExp" location="18:42-18:43" referredVariable="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@iterators.0"/>
              </body>
              <iterators location="18:16-18:17" varName="e" variableExp="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@body/@arguments.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="8:2-9:20">
        <elements xsi:type="atl:SimpleInPatternElement" location="9:3-9:20" varName="rtA" variableExp="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@source">
          <type xsi:type="ocl:OclModelElement" location="9:9-9:20" name="RootA" model="/3"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:LazyMatchedRule" location="22:1-29:2" name="Definition">
      <outPattern location="25:2-28:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="26:3-28:4" varName="t">
          <type xsi:type="ocl:OclModelElement" location="26:7-26:24" name="DefinitionB" model="/8"/>
          <bindings location="27:4-27:18" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="27:12-27:18" name="name">
              <source xsi:type="ocl:VariableExp" location="27:12-27:13" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="23:2-24:21">
        <elements xsi:type="atl:SimpleInPatternElement" location="24:3-24:21" varName="s" variableExp="/0/@elements.1/@outPattern/@elements.0/@bindings.0/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="24:7-24:21" name="ElementA" model="/7"/>
        </elements>
      </inPattern>
    </elements>
  </atl:Module>
  <ocl:OclModel location="5:12-5:17" name="TypeB" model="/0/@outModels.0"/>
  <ocl:OclModel location="5:27-5:32" name="TypeA" model="/0/@inModels.0"/>
  <ocl:OclModel location="9:9-9:14" name="TypeA" elements="/0/@elements.0/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="11:9-11:14" name="TypeB" elements="/0/@elements.0/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="12:43-12:48" name="TypeA" elements="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source/@result/@type/@elementType"/>
  <ocl:VariableDeclaration location="18:20-18:30" varName="thisModule" variableExp="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@body/@source"/>
  <ocl:OclModel location="24:7-24:12" name="TypeA" elements="/0/@elements.1/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="26:7-26:12" name="TypeB" elements="/0/@elements.1/@outPattern/@elements.0/@type"/>
</xmi:XMI>
